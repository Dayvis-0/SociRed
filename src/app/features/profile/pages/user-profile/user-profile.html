<app-navbar></app-navbar>
<div class="profile-container">
  <main class="profile-main">
    <!-- Header del perfil con tabs -->
    <app-profile-header
      [friendsCount]="friendsCount"
      [isOwnProfile]="true"
      (tabChange)="onTabChange($event)"
      (editAvatar)="onEditAvatar()"
      (editCover)="onEditCover()">
    </app-profile-header>

    <!-- Contenido de las pesta√±as -->
    <div class="profile-content">
      
      <!-- Pesta√±a: Publicaciones -->
      <div class="tab-content" [class.active]="activeTab === 'publicaciones'">
        <div class="suggestions-card-horizontal">
          <div class="suggestions-title">Sugerencias para ti</div>
          
          <div 
            *ngFor="let suggestion of suggestions"
            class="suggestion-item">
            <div class="suggestion-avatar" [style.background]="suggestion.gradient">
              {{ suggestion.initials }}
            </div>
            <div class="suggestion-info">
              <div class="suggestion-name">{{ suggestion.name }}</div>
              <div class="suggestion-mutual">{{ suggestion.mutualFriends }} amigos en com√∫n</div>
            </div>
            <button 
              class="sidebar-follow-btn"
              [class.following]="suggestion.following"
              (click)="toggleFollow(suggestion)">
              {{ suggestion.following ? 'Siguiendo' : 'Seguir' }}
            </button>
          </div>
        </div>

        <div class="profile-posts">
          <!-- CREATE POST (Reutilizado del Feed) -->
          <div class="create-post">
            <div class="create-post-input" (click)="openCreatePostModal()">
              <div class="create-post-avatar">{{ userInitials }}</div>
              <input 
                type="text" 
                class="create-post-field" 
                [placeholder]="placeholderText"
                readonly>
            </div>
          </div>

          <!-- POSTS (Reutilizado del Feed) -->
          <article *ngFor="let post of posts" class="post">
            <div class="post-header">
              <div class="post-avatar" [ngClass]="post.avatarClass">
                {{ post.initials }}
              </div>
              <div class="post-info">
                <div class="post-author">{{ post.author }}</div>
                <div class="post-time">{{ post.time }}</div>
              </div>
              <div class="post-menu" (click)="onEdit(post)">‚ãØ</div>
            </div>

            <div class="post-content">{{ post.content }}</div>

            <div *ngIf="post.hasImage" class="post-image">
              {{ post.imageEmoji }}
            </div>

            <div class="post-actions">
              <app-like-button
                [liked]="post.liked"
                [likesCount]="post.likes"
                [showCount]="false"
                (likeToggle)="toggleLike(post)"
              ></app-like-button>
              <button class="post-action" (click)="onEdit(post)">
                <span>‚úèÔ∏è</span>
                <span>Editar</span>
              </button>
            </div>

            <!-- COMMENT SECTION (Reutilizado del Feed) -->
            <app-comment-section 
              [postId]="post.id" 
              [commentsCount]="post.comments"
            ></app-comment-section>
          </article>
        </div>
      </div>

      <!-- Pesta√±a: Acerca de -->
      <div class="tab-content" [class.active]="activeTab === 'acerca'">
        <div class="about-section">
          <div class="about-card">
            <h3 class="about-title">üìã Informaci√≥n general</h3>
            <div class="about-item" *ngFor="let info of aboutInfo">
              <span class="about-icon">{{ info.icon }}</span>
              <div class="about-text">
                <strong>{{ info.title }}</strong>
                <p>{{ info.description }}</p>
              </div>
            </div>
          </div>

          <div class="about-card">
            <h3 class="about-title">üí≠ Acerca de m√≠</h3>
            <p class="about-bio">
              Apasionada por la tecnolog√≠a y el desarrollo web. Me encanta aprender nuevas tecnolog√≠as 
              y compartir conocimiento con la comunidad. Siempre en busca de nuevos desaf√≠os y 
              oportunidades de crecimiento profesional.
            </p>
          </div>

          <div class="about-card">
            <h3 class="about-title">‚ù§Ô∏è Intereses</h3>
            <div class="interests-grid">
              <span class="interest-tag" *ngFor="let interest of interests">{{ interest }}</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Pesta√±a: Amigos -->
      <div class="tab-content" [class.active]="activeTab === 'amigos'">
        <div class="friends-section">
          <div class="friends-header-info">
            <h3 class="friends-title">Amigos</h3>
            <p class="friends-count">{{ friendsCount }} amigos</p>
          </div>

          <div class="friends-grid">
            <div class="friend-card" *ngFor="let friend of friends">
              <div class="friend-card-avatar" [style.background]="friend.gradient">
                {{ friend.initials }}
              </div>
              <div class="friend-card-name">{{ friend.name }}</div>
              <div class="friend-card-mutual">{{ friend.mutualFriends }} amigos en com√∫n</div>
              <button class="friend-card-btn">Ver perfil</button>
            </div>
          </div>
        </div>
      </div>

      <!-- Pesta√±a: Fotos -->
      <div class="tab-content" [class.active]="activeTab === 'fotos'">
        <div class="photos-section">
          <div class="photos-header">
            <h3 class="photos-title">Fotos</h3>
            <button class="add-photos-btn">‚ûï Agregar fotos</button>
          </div>

          <div class="photos-grid">
            <div class="photo-item" *ngFor="let emoji of photoEmojis">{{ emoji }}</div>
          </div>
        </div>
      </div>
    </div>
  </main>
</div>

<!-- CREATE POST MODAL (Reutilizado del Feed) -->
<app-create-post-modal (publishPost)="onPublishPost($event)"></app-create-post-modal>